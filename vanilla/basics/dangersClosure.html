<!DOCTYPE html>
<html>
	<head>
		<meta name="author" content="Tenche Alexandru">
		<title>Closure Dangers</title>
	</head>

<body>
	<script>
	function makeTorpedoAssigner(passengerArray){
		return function(name){
			for (var i = 0; i < passengerArray.length; i++) {
				if(passengerArray[i] == name){
					alert("Hello " + name + "!\n" +
							"You have been asigned mission #" + (i+1)+ "!");
				}
			};
		}
	}

		function assignMission(name, agentArray){
			var missionAssignment;
			for (var i = 0; i < agentArray.length; i++) {
				if(agentArray[i] == name){
					return function(){
						alert("Hello " + name + "!\n" +
							"You have been asigned mission #" + (i+1)+ "!");
					};
				}

			}
		}

		var subPassagers = ["Luke", "Leia", "Han", "Chewie", "Vader", "Yoda"];
		var giveAssignment = assignMission("Luke", subPassagers);
		
		giveAssignment();


		var getTorpedoFor = makeTorpedoAssigner(subPassagers);
		getTorpedoFor("Chewie");
		getTorpedoFor("Han");

	</script>


</body>
</html>